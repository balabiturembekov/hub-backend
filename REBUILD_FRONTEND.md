# üîÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ Frontend

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

Next.js –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `NEXT_PUBLIC_*` **–≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**, –∞ –Ω–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –ø–æ–º–æ–∂–µ—Ç - –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose stop frontend

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker-compose rm -f frontend

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ë–ï–ó –∫—ç—à–∞ (–≤–∞–∂–Ω–æ!)
docker-compose build --no-cache frontend

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d frontend
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—Å—Ç—Ä–æ–µ–Ω—ã:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏
docker-compose logs frontend | grep -i "next_public"

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12 > Console):
# console.log('API URL:', process.env.NEXT_PUBLIC_API_URL)
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: http://94.126.201.244:3001/api
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://94.126.201.244:3002`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `console.log(process.env.NEXT_PUBLIC_API_URL)`
4. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: `http://94.126.201.244:3001/api`
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è localhost:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ build args –≤ docker-compose.yml:**
   ```yaml
   build:
     args:
       NEXT_PUBLIC_API_URL: http://94.126.201.244:3001/api
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏:**
   ```bash
   docker-compose build frontend 2>&1 | grep -i "next_public"
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±—Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω:**
   ```bash
   docker images | grep hubstaff-frontend
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–∞
   ```

### –ï—Å–ª–∏ CORS –≤—Å–µ –µ—â–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:**
   ```bash
   docker-compose logs backend | grep "CORS Configuration"
   ```

2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ FRONTEND_IP —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   ```bash
   docker-compose exec backend env | grep FRONTEND_IP
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: FRONTEND_IP=94.126.201.244
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
   ```bash
   docker-compose restart backend
   ```

## üìù –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
docker-compose down

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend –±–µ–∑ –∫—ç—à–∞
docker-compose build --no-cache frontend

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f frontend
```

## ‚ö° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å runtime –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å API URL –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å runtime –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –Ω–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ –∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

