# üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é CORS –æ—à–∏–±–∫–∏

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **Frontend API URL** - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç IP –∞–¥—Ä–µ—Å –≤–º–µ—Å—Ç–æ localhost
2. **CORS –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. **CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è `http://94.126.201.244:3002`

## üöÄ –®–∞–≥–∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### 1. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:
```bash
docker-compose build frontend
docker-compose up -d frontend
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é backend:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ backend
docker-compose logs backend | grep "CORS Configuration"

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# üîí CORS Configuration: { allowedOrigins: [...], ... }
# –í allowedOrigins –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: http://94.126.201.244:3002
```

### 3. –ï—Å–ª–∏ CORS origins –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç IP –∞–¥—Ä–µ—Å:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è backend:
```bash
docker-compose exec backend env | grep FRONTEND
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- `FRONTEND_URL=https://hubnity.automatonsoft.de`
- `FRONTEND_IP=94.126.201.244`

–ï—Å–ª–∏ –Ω–µ—Ç, –æ–±–Ω–æ–≤–∏—Ç–µ `docker-compose.yml` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
docker-compose restart backend
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://94.126.201.244:3002`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:
```bash
docker-compose logs -f backend | grep CORS
```

## üîç –û—Ç–ª–∞–¥–∫–∞:

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ origins:
```bash
docker-compose logs backend | grep "CORS Configuration"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
```bash
docker-compose logs backend | grep "CORS: Blocked"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
```bash
docker-compose logs backend | grep "CORS: Allowing"
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- **Frontend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω** –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CORS
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ origins –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

## üìù –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API URL:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `console.log(process.env.NEXT_PUBLIC_API_URL)`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `http://94.126.201.244:3001/api`

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –ª–æ–≥–∏ backend:
   ```bash
   docker-compose logs backend | tail -50
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É:
   ```bash
   curl http://94.126.201.244:3001/api
   ```
