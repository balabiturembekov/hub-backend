# Production Docker Compose configuration
# Usage: docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d

services:
  backend:
    environment:
      NODE_ENV: production
      # CORS configuration
      FRONTEND_URL: https://hubnity.automatonsoft.de
      FRONTEND_IP: 94.126.201.244
      # Database (override with your production DB)
      DATABASE_URL: ${DATABASE_URL:-postgresql://hubstaff:hubstaff_password@postgres:5432/hubstaff_db?schema=public}
      # JWT Secret (CHANGE THIS IN PRODUCTION!)
      JWT_SECRET: ${JWT_SECRET:-your-super-secret-jwt-key-change-in-production}
      # Redis
      REDIS_HOST: redis
      REDIS_PORT: 6379
      REDIS_PASSWORD: ${REDIS_PASSWORD:-}
      # Sentry
      SENTRY_DSN: ${SENTRY_DSN:-}

  frontend:
    environment:
      NODE_ENV: production
      # API URLs
      NEXT_PUBLIC_API_URL: https://hubnity.automatonsoft.de/api
      NEXT_PUBLIC_WS_URL: wss://hubnity.automatonsoft.de
      NEXT_PUBLIC_BASE_URL: https://hubnity.automatonsoft.de
      # Sentry
      NEXT_PUBLIC_SENTRY_DSN: ${NEXT_PUBLIC_SENTRY_DSN:-}
      SENTRY_ORG: ${SENTRY_ORG:-automatonsoft}
      SENTRY_PROJECT: ${SENTRY_PROJECT:-javascript-nextjs}
