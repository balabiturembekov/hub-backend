# üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (Employees)

## üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏

### 1. **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Projects —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π URL**

**–§–∞–π–ª:** `app/admin/projects/page.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/admin/projects` –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è employees
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π URL –∏ —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏
- –í Sidebar —Å—Å—ã–ª–∫–∞ —Å–∫—Ä—ã—Ç–∞ (`adminOnly: true`), –Ω–æ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ URL –≤–æ–∑–º–æ–∂–µ–Ω

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**

```typescript
// –°—Ç—Ä–æ–∫–∞ 323-326: –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞!
if (!currentUser) {
  return null;
}

return (
  // ... —Ä–µ–Ω–¥–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
);
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É "Access Denied" –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º `/admin/employees` –∏ `/admin/reports`

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ `currentUser`:

```typescript
// Don't render if no user (will redirect)
if (!currentUser) {
  return null;
}

// Check access - show access denied if not admin/owner/super_admin
if (
  currentUser.role !== "admin" &&
  currentUser.role !== "OWNER" &&
  currentUser.role !== "SUPER_ADMIN"
) {
  return (
    <div className="flex h-screen overflow-hidden bg-gray-50">
      <Sidebar />
      <div className="flex flex-1 flex-col overflow-hidden">
        <Header />
        <main className="flex-1 overflow-y-auto p-6">
          <Card>
            <CardContent className="py-12">
              <div className="text-center text-muted-foreground">
                <FolderOpen className="h-12 w-12 mx-auto mb-4 opacity-50" />
                <h3 className="text-lg font-semibold mb-2">Access Denied</h3>
                <p>Admin privileges required to access this page.</p>
              </div>
            </CardContent>
          </Card>
        </main>
      </div>
    </div>
  );
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–π (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

---

### 2. **–ü–µ—Ä–µ–¥–∞—á–∞ –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ `users` –≤ ExportDialog –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**

**–§–∞–π–ª:** `app/tracking/page.tsx` (—Å—Ç—Ä–æ–∫–∞ 601)

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –î–ª—è employees `users` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (—Ç–∞–∫ –∫–∞–∫ `loadUsers()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- `users` –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º `[]` –¥–ª—è employees
- `ExportDialog` –ø–æ–ª—É—á–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `users`, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**

```typescript
// –°—Ç—Ä–æ–∫–∞ 35: users –±–µ—Ä–µ—Ç—Å—è –∏–∑ store
const { timeEntries, loadTimeEntries, currentUser, users, projects, ... } = useStore();

// –°—Ç—Ä–æ–∫–∞ 601: –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ ExportDialog
<ExportDialog
  open={exportDialogOpen}
  onOpenChange={setExportDialogOpen}
  entries={filteredEntriesForExport}
  users={users}  // ‚ö†Ô∏è –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –¥–ª—è employees!
  projects={projects}
  currentUser={currentUser}
/>
```

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ ExportDialog:**

- `ExportDialog` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `isEmployee` –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ù–æ –µ—Å–ª–∏ `users` –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–µ—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º –≤—ã–±–µ—Ä–µ—Ç —ç—Ç–æ—Ç —Ç–∏–ø —ç–∫—Å–ø–æ—Ä—Ç–∞)

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

- –î–ª—è employees `users` –Ω–µ –Ω—É–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
- –ù–æ –ª—É—á—à–µ —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `[]` –∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤–æ–æ–±—â–µ

**–†–µ—à–µ–Ω–∏–µ:**

1. –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `users` –¥–ª—è employees (–Ω–æ —ç—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `ExportDialog`)
2. –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `ExportDialog` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
3. –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `users` —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í–∞—Ä–∏–∞–Ω—Ç 3 - –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `users` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω:

```typescript
<ExportDialog
  open={exportDialogOpen}
  onOpenChange={setExportDialogOpen}
  entries={filteredEntriesForExport}
  users={isAdmin ? users : []}
  projects={projects}
  currentUser={currentUser}
/>
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π (–º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ)

---

## üü° –°—Ä–µ–¥–Ω–∏–µ –±–∞–≥–∏

### 3. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ Team Activity –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º, –Ω–æ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤?**

**–§–∞–π–ª:** `app/admin/team-activity/page.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –í `Sidebar.tsx` —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "Time & Activity" (`/admin/team-activity`) –ù–ï –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ `adminOnly: true`
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –≤–∫–ª—é—á–∞—è employees
- Backend API —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è employees (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏—Ö –¥–∞–Ω–Ω—ã–µ)
- –ù–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ –≤ Sidebar:**

```typescript
const navigation = [
  // ...
  { name: "Time & Activity", href: "/admin/team-activity", icon: Activity }, // ‚ö†Ô∏è –ù–µ—Ç adminOnly!
  // ...
];
```

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ –≤ team-activity/page.tsx:**

- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è employees
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–í–æ–ø—Ä–æ—Å:** –î–æ–ª–∂–Ω–∞ –ª–∏ —ç—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è employees?

- –ï—Å–ª–∏ –î–ê: –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ/–æ–ø–∏—Å–∞–Ω–∏–µ
- –ï—Å–ª–∏ –ù–ï–¢: –¥–æ–±–∞–≤–∏—Ç—å `adminOnly: true` –≤ Sidebar –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –ï—Å–ª–∏ employees –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Å–≤–æ—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ "My Activity" –∏ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ï—Å–ª–∏ —ç—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ - –¥–æ–±–∞–≤–∏—Ç—å `adminOnly: true` –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)

---

### 4. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º `users` –≤ TimeEntriesTable –¥–ª—è employees**

**–§–∞–π–ª:** `components/TimeEntriesTable.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –î–ª—è employees `users` –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º
- –í –∫–æ–¥–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ `users && Array.isArray(users)`, —á—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–æ –µ—Å–ª–∏ `users` –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è (—á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –µ—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ–∏–ª—å—Ç—Ä—É, –æ–Ω –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**

```typescript
// –°—Ç—Ä–æ–∫–∞ 267: –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–∫—Ä—ã—Ç –¥–ª—è employees
{!userId && !isEmployee && (
  <Select value={userFilter} onValueChange={setUserFilter}>
    <SelectContent>
      <SelectItem value="all">All users</SelectItem>
      {users && Array.isArray(users) && users.map((user) => (
        // ...
      ))}
    </SelectContent>
  </Select>
)}
```

**–ê–Ω–∞–ª–∏–∑:**

- –ö–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
- –§–∏–ª—å—Ç—Ä —Å–∫—Ä—ã—Ç –¥–ª—è employees
- –ü—Ä–æ–±–ª–µ–º—ã –Ω–µ—Ç, –Ω–æ —Å—Ç–æ–∏—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ–∑–¥–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π (–∫–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π, –Ω–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

---

## üü¢ –ù–∏–∑–∫–∏–µ –±–∞–≥–∏ / –£–ª—É—á—à–µ–Ω–∏—è

### 5. **–ù–µ—Ç —è–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ middleware –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü**

**–§–∞–π–ª:** `middleware.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**

- Middleware –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**

```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞
const protectedRoutes = ["/dashboard", "/tracking", "/profile", "/admin"];
const isProtectedRoute = protectedRoutes.some((route) =>
  pathname.startsWith(route)
);
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**

- –°–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω—Å–∫–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π URL
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–æ–π–¥–µ–Ω–æ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–∏ –≤ middleware –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ backend –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π (backend –∑–∞—â–∏—â–∞–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)

---

### 6. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–æ–ª–µ–π (lowercase vs uppercase)**

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `'employee'` (lowercase)
- –í –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `UserRole.EMPLOYEE` (uppercase enum)
- Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç enum (uppercase)
- Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ (lowercase)

**–ü—Ä–∏–º–µ—Ä—ã:**

```typescript
// Frontend
if (currentUser?.role === 'employee') { ... }

// Backend
if (user.role === UserRole.EMPLOYEE) { ... }
```

**–ê–Ω–∞–ª–∏–∑:**

- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ backend –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç enum –≤ —Å—Ç—Ä–æ–∫—É –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- –ù–æ —Å—Ç–æ–∏—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å)

---

## üìã –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| #   | –ë–∞–≥                                    | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç    | –§–∞–π–ª                               | –°—Ç–∞—Ç—É—Å                |
| --- | -------------------------------------- | ------------ | ---------------------------------- | --------------------- |
| 1   | –î–æ—Å—Ç—É–ø –∫ Projects —á–µ—Ä–µ–∑ URL            | üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–π | `app/admin/projects/page.tsx`      | ‚ùå –ù–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ      |
| 2   | –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ users –≤ ExportDialog     | üü° –°—Ä–µ–¥–Ω–∏–π   | `app/tracking/page.tsx`            | ‚ùå –ù–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ      |
| 3   | Team Activity –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º            | üü° –°—Ä–µ–¥–Ω–∏–π   | `app/admin/team-activity/page.tsx` | ‚ùì –¢—Ä–µ–±—É–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è  |
| 4   | –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ users –≤ TimeEntriesTable | üü¢ –ù–∏–∑–∫–∏–π    | `components/TimeEntriesTable.tsx`  | ‚úÖ –ö–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π     |
| 5   | –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏ –≤ middleware         | üü¢ –ù–∏–∑–∫–∏–π    | `middleware.ts`                    | ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å     |
| 6   | –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Ä–æ–ª–µ–π           | üü¢ –ù–∏–∑–∫–∏–π    | –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤                   | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω—ã–π):

1. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞ –≤ `app/admin/projects/page.tsx`**
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ `app/admin/employees/page.tsx`
   - –ü–æ–∫–∞–∑–∞—Ç—å "Access Denied" –¥–ª—è employees

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–°—Ä–µ–¥–Ω–∏–π):

2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É `users` –≤ ExportDialog**

   - –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `users` —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
   - –ò–ª–∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ ExportDialog –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

3. ‚ùì **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Team Activity –¥–ª—è employees**
   - –ï—Å–ª–∏ –î–ê: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∏ —É–ª—É—á—à–∏—Ç—å UX
   - –ï—Å–ª–∏ –ù–ï–¢: –¥–æ–±–∞–≤–∏—Ç—å `adminOnly: true` –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ù–∏–∑–∫–∏–π):

4. ‚ö†Ô∏è **–£–ª—É—á—à–∏—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. üìù **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ä–æ–ª–µ–π** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

1. ‚úÖ `components/TimeEntriesTable.tsx` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∑–∞–ø–∏—Å–∏ –¥–ª—è employees
2. ‚úÖ `components/ActiveUsers.tsx` - —Å–∫—Ä—ã—Ç –¥–ª—è employees
3. ‚úÖ `components/RecentActivity.tsx` - —Å–∫—Ä—ã—Ç –¥–ª—è employees
4. ‚úÖ `components/admin/ExportDialog.tsx` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç employees
5. ‚úÖ `components/TimeTracker.tsx` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–µ–∫—Ç –¥–ª—è employees
6. ‚úÖ `app/admin/employees/page.tsx` - –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
7. ‚úÖ `app/admin/reports/page.tsx` - –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
8. ‚úÖ `app/dashboard/page.tsx` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è employees
9. ‚úÖ `app/tracking/page.tsx` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è employees
10. ‚úÖ Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ employees

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:

- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è time entries –¥–ª—è employees
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è employees –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ time entry
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ time entries (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ time entries (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö)
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω—Å–∫–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —á–µ—Ä–µ–∑ Sidebar
- ‚úÖ Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

### –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

- ‚ö†Ô∏è –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è employees (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º users)
- ‚ö†Ô∏è –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω—Å–∫–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π URL (Projects)
- ‚ö†Ô∏è Team Activity - –¥–æ–ª–∂–µ–Ω –ª–∏ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è employees?

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∞–≥–∏:** 1
**–°—Ä–µ–¥–Ω–∏–µ –±–∞–≥–∏:** 2
**–ù–∏–∑–∫–∏–µ –±–∞–≥–∏/—É–ª—É—á—à–µ–Ω–∏—è:** 3

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Projects
2. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º users –¥–ª—è employees
3. –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ Team Activity –¥–ª—è employees

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**

- –ë–∞–≥ #1 (–∫—Ä–∏—Ç–∏—á–Ω—ã–π) - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –ë–∞–≥ #2 (—Å—Ä–µ–¥–Ω–∏–π) - –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è
- –ë–∞–≥ #3 (—Å—Ä–µ–¥–Ω–∏–π) - —Ç—Ä–µ–±—É–µ—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
